<div class="section">
  <div class="container">
      <div class="columns" *ngIf="filter; else loading">
        
        <!-- Sidebar -->
        <div class="column is-narrow">
          <nav class="panel">
            <p class="panel-heading">Filters</p>
            <div class="panel-block">
              <a class="button is-link is-outlined is-fullwidth" routerLink="/app/filters">
                Create
              </a>
            </div>
            <a class="panel-block" *ngFor="let listed of filters">
              <!-- Active Filter -->
              <div *ngIf="listed.id == id">
                {{ filter.name || "[Empty]" }}
              </div>

              <!-- Other Filters -->
              <div *ngIf="listed.id != id">
                <a routerLink="/app/filters/{{listed.id}}">
                  {{ listed.name }}
                </a>
              </div>
            </a>
          </nav>
          
        </div>
        <div class="column">
          <form>
            <div class="field">
              <div class="field-body">
                <!-- Name -->
                <div class="field">
                  <div class="control">
                    <input class="input" [(ngModel)]="filter.name" type="text" id="name" name="name" required />
                  </div>
                </div>
      
                <!-- Enabled -->
                <div class="field">
                  <div class="control">
                    <label class="checkbox">
                      <input [(ngModel)]="filter.enabled" type="checkbox" id="enabled" name="enabled" />
                      Enabled?
                    </label>
                  </div>
                  <p class="help">Disable filters to hide them in the transaction view.</p>
                </div>
                  
                <!-- Submit -->
                <button class="button is-primary" (click)="onSubmit()" [ngClass]="{'is-loading': !formEnabled}">
                  save
              </button>
              </div>
            </div>
      
          </form>
          <ngx-monaco-editor class="filter-editor" [options]="editorOptions" [(ngModel)]="code"></ngx-monaco-editor>
        </div>
      </div>
      
      <ng-template #loading>
        <div class="columns is-centered">
          <div class="column is-narrow">
            <a class="button is-medium is-loading is-centered">
              Button
            </a>
          </div>
        </div>
      </ng-template>
  </div>
</div>